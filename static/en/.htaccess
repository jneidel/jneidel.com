RewriteEngine On

RewriteRule ^de/(.*)$ https://jneidel.de/$1 [R=301,L]

# Redirect dotfiles
Redirect 301 /dot https://github.com/jneidel/dotfiles#readme
RewriteRule ^dot/(.*)$ https://github.com/jneidel/dotfiles/tree/master/$1 [L]

# Redirect to github repos
Redirect 301 /gh https://github.com/jneidel
Redirect 301 /github https://github.com/jneidel
RewriteRule ^gh/(.*)$ https://github.com/jneidel/$1 [L]

### Caching rules
## Fonts
<IfModule mod_headers.c>
  <FilesMatch "\.(woff2)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>
</IfModule>

## CSS/JS minified, fingerprinted bundle
<IfModule mod_headers.c>
  <FilesMatch "^main\.bundle\.min\..*\.css$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>
</IfModule>

## Hugo fingerprinted images
<IfModule mod_headers.c>
  <FilesMatch "_hu_.*\.(webp|png|jpg|jpeg|avif|gif|svg)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>
</IfModule>
